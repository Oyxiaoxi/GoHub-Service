basePath: /api/v1
definitions:
  category.Category:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  database.Stats:
    properties:
      avg_wait_duration:
        allOf:
        - $ref: '#/definitions/time.Duration'
        description: AvgWaitDuration 平均等待时间
      idle:
        description: Idle 空闲连接数
        type: integer
      idle_rate:
        description: IdleRate 空闲连接率（空闲/打开连接）
        type: number
      in_use:
        description: InUse 正在使用的连接数
        type: integer
      max_idle_closed:
        description: MaxIdleClosed 因超过最大空闲数而关闭的连接数
        type: integer
      max_idle_time_closed:
        description: MaxIdleTimeClosed 因超过最大空闲时间而关闭的连接数
        type: integer
      max_lifetime_closed:
        description: MaxLifetimeClosed 因超过最大生命周期而关闭的连接数
        type: integer
      max_open_connections:
        description: MaxOpenConnections 最大打开连接数
        type: integer
      open_connections:
        description: OpenConnections 当前打开的连接数（使用中+空闲）
        type: integer
      utilization_rate:
        description: |-
          额外计算的指标
          UtilizationRate 连接池使用率（使用中/最大连接数）
        type: number
      wait_count:
        description: WaitCount 等待连接的总次数
        type: integer
      wait_duration:
        allOf:
        - $ref: '#/definitions/time.Duration'
        description: WaitDuration 等待连接的总时间
    type: object
  requests.AssignPermissionsRequest:
    properties:
      permission_ids:
        items:
          type: integer
        type: array
    type: object
  requests.BatchDeleteRequest:
    properties:
      ids:
        items:
          type: string
        type: array
    type: object
  requests.CommentRequest:
    properties:
      content:
        type: string
      parent_id:
        type: string
      topic_id:
        type: string
    type: object
  requests.PermissionCreateRequest:
    properties:
      description:
        type: string
      display_name:
        type: string
      group:
        type: string
      name:
        type: string
    type: object
  requests.PermissionUpdateRequest:
    properties:
      description:
        type: string
      display_name:
        type: string
      group:
        type: string
      name:
        type: string
    type: object
  requests.RoleCreateRequest:
    properties:
      description:
        type: string
      display_name:
        type: string
      name:
        type: string
    type: object
  requests.RoleUpdateRequest:
    properties:
      description:
        type: string
      display_name:
        type: string
      name:
        type: string
    type: object
  requests.TopicRequest:
    properties:
      body:
        type: string
      category_id:
        type: string
      title:
        type: string
    type: object
  requests.UserUpdateProfileRequest:
    properties:
      city:
        type: string
      introduction:
        type: string
      name:
        type: string
    type: object
  response.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  time.Duration:
    enum:
    - -9223372036854775808
    - 9223372036854775807
    - 1
    - 1000
    - 1000000
    - 1000000000
    - 60000000000
    - 3600000000000
    format: int64
    type: integer
    x-enum-varnames:
    - minDuration
    - maxDuration
    - Nanosecond
    - Microsecond
    - Millisecond
    - Second
    - Minute
    - Hour
  topic.Topic:
    properties:
      body:
        type: string
      category:
        allOf:
        - $ref: '#/definitions/category.Category'
        description: 通过 category_id 关联分类
      category_id:
        type: string
      created_at:
        type: string
      favorite_count:
        type: integer
      id:
        type: integer
      like_count:
        type: integer
      title:
        type: string
      updated_at:
        type: string
      user:
        allOf:
        - $ref: '#/definitions/user.User'
        description: 通过 user_id 关联用户
      user_id:
        type: string
      view_count:
        type: integer
    type: object
  user.User:
    properties:
      avatar:
        type: string
      city:
        type: string
      created_at:
        type: string
      followers_count:
        type: integer
      id:
        type: integer
      introduction:
        type: string
      name:
        type: string
      points:
        type: integer
      updated_at:
        type: string
    type: object
host: localhost:3000
info:
  contact:
    email: support@gohub.com
    name: API Support
    url: https://github.com/Oyxiaoxi/GoHub-Service/issues
  description: GoHub 社区论坛 API 文档
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://github.com/Oyxiaoxi/GoHub-Service
  title: GoHub-Service API
  version: "1.0"
paths:
  /api/search/hot-topics:
    get:
      consumes:
      - application/json
      description: 获取最近7天的热门话题
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 热门话题
      tags:
      - Search
  /api/search/suggestions:
    get:
      consumes:
      - application/json
      description: 获取搜索建议用于自动完成功能
      parameters:
      - description: 搜索前缀
        in: query
        name: query
        required: true
        type: string
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 搜索建议
      tags:
      - Search
  /api/search/topics:
    get:
      consumes:
      - application/json
      description: 全文搜索话题，支持分类筛选、排序等
      parameters:
      - description: 搜索关键词
        in: query
        name: query
        type: string
      - description: 分类ID
        in: query
        name: category_id
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: relevance
        description: '排序方式: relevance|latest|popular'
        in: query
        name: sort_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 搜索话题
      tags:
      - Search
  /api/v1/admin/{target_type}/{target_id}/likes:
    get:
      consumes:
      - application/json
      description: 获取指定目标（话题或评论）的点赞列表
      parameters:
      - description: 目标类型 (topic/comment)
        in: path
        name: target_type
        required: true
        type: string
      - description: 目标ID
        in: path
        name: target_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取目标的点赞列表
      tags:
      - Like
  /api/v1/admin/comments:
    get:
      consumes:
      - application/json
      description: 分页获取所有评论
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - description: 用户ID过滤
        in: query
        name: user_id
        type: string
      - description: 话题ID过滤
        in: query
        name: topic_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论列表
      tags:
      - Comment
  /api/v1/admin/comments/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的评论
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: 删除评论
      tags:
      - Comment
    get:
      consumes:
      - application/json
      description: 根据ID获取评论详情
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论详情
      tags:
      - Comment
  /api/v1/admin/comments/batch-delete:
    post:
      consumes:
      - application/json
      description: 批量删除多条评论
      parameters:
      - description: ID列表
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.BatchDeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 批量删除评论
      tags:
      - Comment
  /api/v1/admin/comments/stats:
    get:
      consumes:
      - application/json
      description: 获取评论相关统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论统计
      tags:
      - Comment
  /api/v1/admin/follows:
    get:
      consumes:
      - application/json
      description: 分页获取所有关注关系
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取关注列表
      tags:
      - Follow
  /api/v1/admin/follows/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的关注关系
      parameters:
      - description: 关注ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: 删除关注关系
      tags:
      - Follow
  /api/v1/admin/follows/stats:
    get:
      consumes:
      - application/json
      description: 获取关注相关统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取关注统计
      tags:
      - Follow
  /api/v1/admin/likes:
    get:
      consumes:
      - application/json
      description: 分页获取所有点赞
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - description: 目标类型过滤
        in: query
        name: target_type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取点赞列表
      tags:
      - Like
  /api/v1/admin/likes/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的点赞
      parameters:
      - description: 点赞ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: 删除点赞
      tags:
      - Like
  /api/v1/admin/likes/stats:
    get:
      consumes:
      - application/json
      description: 获取点赞相关统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取点赞统计
      tags:
      - Like
  /api/v1/admin/permissions:
    get:
      consumes:
      - application/json
      description: 分页获取所有权限
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - description: 权限分组
        in: query
        name: group
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取权限列表
      tags:
      - Permission
    post:
      consumes:
      - application/json
      description: 创建新的权限
      parameters:
      - description: 权限信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.PermissionCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
      summary: 创建权限
      tags:
      - Permission
  /api/v1/admin/permissions/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的权限
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: 删除权限
      tags:
      - Permission
    get:
      consumes:
      - application/json
      description: 根据ID获取权限详情
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取权限详情
      tags:
      - Permission
    put:
      consumes:
      - application/json
      description: 更新指定权限的信息
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.PermissionUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 更新权限
      tags:
      - Permission
  /api/v1/admin/roles:
    get:
      consumes:
      - application/json
      description: 分页获取所有角色
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取角色列表
      tags:
      - Role
    post:
      consumes:
      - application/json
      description: 创建新的角色
      parameters:
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.RoleCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
      summary: 创建角色
      tags:
      - Role
  /api/v1/admin/roles/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的角色
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: 删除角色
      tags:
      - Role
    get:
      consumes:
      - application/json
      description: 根据ID获取角色详情
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取角色详情
      tags:
      - Role
    put:
      consumes:
      - application/json
      description: 更新指定角色的信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.RoleUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 更新角色
      tags:
      - Role
  /api/v1/admin/roles/{id}/permissions:
    get:
      consumes:
      - application/json
      description: 获取指定角色拥有的所有权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取角色权限
      tags:
      - Role
    post:
      consumes:
      - application/json
      description: 为指定角色分配权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限ID列表
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requests.AssignPermissionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 分配权限到角色
      tags:
      - Role
  /api/v1/admin/users/{user_id}/followers:
    get:
      consumes:
      - application/json
      description: 获取指定用户的粉丝列表
      parameters:
      - description: 用户ID
        in: path
        name: user_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户粉丝列表
      tags:
      - Follow
  /api/v1/admin/users/{user_id}/following:
    get:
      consumes:
      - application/json
      description: 获取指定用户的关注列表
      parameters:
      - description: 用户ID
        in: path
        name: user_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户关注列表
      tags:
      - Follow
  /api/v1/comments:
    get:
      consumes:
      - application/json
      description: 获取评论列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 15
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论列表
      tags:
      - 评论管理
    post:
      consumes:
      - application/json
      description: 创建新评论
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 评论信息
        in: body
        name: comment
        required: true
        schema:
          $ref: '#/definitions/requests.CommentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "422":
          description: 验证错误
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: 创建评论
      tags:
      - 评论管理
  /api/v1/comments/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定评论
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 评论不存在
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: 删除评论
      tags:
      - 评论管理
    get:
      consumes:
      - application/json
      description: 根据ID获取评论详情
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 评论不存在
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论详情
      tags:
      - 评论管理
    put:
      consumes:
      - application/json
      description: 更新评论内容
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      - description: 评论信息
        in: body
        name: comment
        required: true
        schema:
          $ref: '#/definitions/requests.CommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 评论不存在
          schema:
            additionalProperties: true
            type: object
        "422":
          description: 验证错误
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: 更新评论
      tags:
      - 评论管理
  /api/v1/comments/{id}/like:
    post:
      consumes:
      - application/json
      description: 对评论进行点赞
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: 点赞评论
      tags:
      - 评论管理
  /api/v1/comments/{id}/replies:
    get:
      consumes:
      - application/json
      description: 获取指定评论的所有回复
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 15
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      summary: 获取评论的回复列表
      tags:
      - 评论管理
  /api/v1/comments/{id}/unlike:
    post:
      consumes:
      - application/json
      description: 取消对评论的点赞
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: 取消点赞
      tags:
      - 评论管理
  /api/v1/monitor/database/health:
    get:
      description: 检查数据库连接池是否健康，返回警告信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 数据库健康检查
      tags:
      - 监控
  /api/v1/monitor/database/metrics:
    get:
      description: 获取适合 Prometheus 采集的数据库指标
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 数据库指标
      tags:
      - 监控
  /api/v1/monitor/database/recommend:
    get:
      description: 根据当前统计数据推荐连接池配置调整
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 配置优化建议
      tags:
      - 监控
  /api/v1/monitor/database/stats:
    get:
      description: 获取当前数据库连接池的详细统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.Stats'
      summary: 数据库连接池统计
      tags:
      - 监控
  /api/v1/topics:
    get:
      consumes:
      - application/json
      - application/json
      description: |-
        分页获取所有话题
        获取话题列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取话题列表
      tags:
      - topics
      - 话题管理
    post:
      consumes:
      - application/json
      - application/json
      description: |-
        创建新的话题
        创建一个新的话题
      parameters:
      - description: 话题信息
        in: body
        name: topic
        required: true
        schema:
          $ref: '#/definitions/requests.TopicRequest'
      - description: 话题信息
        in: body
        name: topic
        required: true
        schema:
          $ref: '#/definitions/requests.TopicRequest'
      produces:
      - application/json
      - application/json
      responses:
        "201":
          description: 创建成功
          schema:
            $ref: '#/definitions/topic.Topic'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "422":
          description: 验证失败
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器错误
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - Bearer: []
      summary: 创建新话题
      tags:
      - topics
      - 话题管理
  /api/v1/topics/{id}:
    get:
      consumes:
      - application/json
      - application/json
      description: |-
        根据ID获取话题详细信息
        根据ID获取话题详情
      parameters:
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/topic.Topic'
        "404":
          description: 话题不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取话题详情
      tags:
      - topics
      - 话题管理
  /api/v1/topics/{id}/comments:
    get:
      consumes:
      - application/json
      description: 获取指定话题的所有评论
      parameters:
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 15
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      summary: 获取话题的评论列表
      tags:
      - 评论管理
  /api/v1/users/{id}/comments:
    get:
      consumes:
      - application/json
      description: 获取指定用户的所有评论
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 15
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户的评论列表
      tags:
      - 评论管理
  /topics:
    get:
      consumes:
      - application/json
      - application/json
      description: |-
        分页获取所有话题
        获取话题列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取话题列表
      tags:
      - topics
      - 话题管理
    post:
      consumes:
      - application/json
      - application/json
      description: |-
        创建新的话题
        创建一个新的话题
      parameters:
      - description: 话题信息
        in: body
        name: topic
        required: true
        schema:
          $ref: '#/definitions/requests.TopicRequest'
      - description: 话题信息
        in: body
        name: topic
        required: true
        schema:
          $ref: '#/definitions/requests.TopicRequest'
      produces:
      - application/json
      - application/json
      responses:
        "201":
          description: 创建成功
          schema:
            $ref: '#/definitions/topic.Topic'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "422":
          description: 验证失败
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器错误
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - Bearer: []
      summary: 创建新话题
      tags:
      - topics
      - 话题管理
  /topics/{id}:
    delete:
      consumes:
      - application/json
      description: 删除话题（需要所有权）
      parameters:
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除话题
      tags:
      - topics
    get:
      consumes:
      - application/json
      - application/json
      description: |-
        根据ID获取话题详细信息
        根据ID获取话题详情
      parameters:
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/topic.Topic'
        "404":
          description: 话题不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取话题详情
      tags:
      - topics
      - 话题管理
    put:
      consumes:
      - application/json
      description: 更新话题信息（需要所有权）
      parameters:
      - description: 话题ID
        in: path
        name: id
        required: true
        type: string
      - description: 话题信息
        in: body
        name: topic
        required: true
        schema:
          $ref: '#/definitions/requests.TopicRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/topic.Topic'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新话题
      tags:
      - topics
  /user:
    get:
      consumes:
      - application/json
      description: 返回当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - Bearer: []
      summary: 获取当前用户信息
      tags:
      - 用户管理
  /users:
    get:
      consumes:
      - application/json
      description: 分页获取用户列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      - default: id
        description: 排序方式
        in: query
        name: order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取用户列表
      tags:
      - 用户管理
  /users/profile:
    put:
      consumes:
      - application/json
      description: 更新当前登录用户的个人资料
      parameters:
      - description: 用户资料
        in: body
        name: profile
        required: true
        schema:
          $ref: '#/definitions/requests.UserUpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "422":
          description: 验证失败
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - Bearer: []
      summary: 更新当前用户资料
      tags:
      - 用户管理
schemes:
- http
- https
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
